(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{94513:(e,t,a)=>{Promise.resolve().then(a.bind(a,24686))},24686:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var l=a(95155),s=a(86195),c=a(394),r=a(15255),n=a(12800),i=a(66963),d=a(23021),o=a(22175),x=a(90457),u=a(67732),m=a(34790),f=a(60728),h=a(12115),p=a(58581),j=a(27112),b=a(86354),g=a(77849);let v={light:"",dark:".dark"},N=h.createContext(null);function y(){let e=h.useContext(N);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let w=h.forwardRef((e,t)=>{let{id:a,className:s,children:c,config:r,...n}=e,i=h.useId(),d="chart-".concat(a||i.replace(/:/g,""));return(0,l.jsx)(N.Provider,{value:{config:r},children:(0,l.jsxs)("div",{"data-chart":d,ref:t,className:(0,g.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",s),...n,children:[(0,l.jsx)(k,{id:d,config:r}),(0,l.jsx)(p.u,{children:c})]})})});w.displayName="Chart";let k=e=>{let{id:t,config:a}=e,s=Object.entries(a).filter(e=>{let[,t]=e;return t.theme||t.color});return s.length?(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(v).map(e=>{let[a,l]=e;return"\n".concat(l," [data-chart=").concat(t,"] {\n").concat(s.map(e=>{var t;let[l,s]=e,c=(null===(t=s.theme)||void 0===t?void 0:t[a])||s.color;return c?"  --color-".concat(l,": ").concat(c,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},C=j.m,I=h.forwardRef((e,t)=>{let{active:a,payload:s,className:c,indicator:r="dot",hideLabel:n=!1,hideIndicator:i=!1,label:d,labelFormatter:o,labelClassName:x,formatter:u,color:m,nameKey:f,labelKey:p}=e,{config:j}=y(),b=h.useMemo(()=>{var e;if(n||!(null==s?void 0:s.length))return null;let[t]=s,a="".concat(p||t.dataKey||t.name||"value"),c=E(j,t,a),r=p||"string"!=typeof d?null==c?void 0:c.label:(null===(e=j[d])||void 0===e?void 0:e.label)||d;return o?(0,l.jsx)("div",{className:(0,g.cn)("font-medium",x),children:o(r,s)}):r?(0,l.jsx)("div",{className:(0,g.cn)("font-medium",x),children:r}):null},[d,o,s,n,x,j,p]);if(!a||!(null==s?void 0:s.length))return null;let v=1===s.length&&"dot"!==r;return(0,l.jsxs)("div",{ref:t,className:(0,g.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-neutral-200 border-neutral-200/50 bg-white px-2.5 py-1.5 text-xs shadow-xl dark:border-neutral-800 dark:border-neutral-800/50 dark:bg-neutral-950",c),children:[v?null:b,(0,l.jsx)("div",{className:"grid gap-1.5",children:s.map((e,t)=>{let a="".concat(f||e.name||e.dataKey||"value"),s=E(j,e,a),c=m||e.payload.fill||e.color;return(0,l.jsx)("div",{className:(0,g.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-neutral-500 dark:[&>svg]:text-neutral-400","dot"===r&&"items-center"),children:u&&(null==e?void 0:e.value)!==void 0&&e.name?u(e.value,e.name,e,t,e.payload):(0,l.jsxs)(l.Fragment,{children:[(null==s?void 0:s.icon)?(0,l.jsx)(s.icon,{}):!i&&(0,l.jsx)("div",{className:(0,g.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===r,"w-1":"line"===r,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===r,"my-0.5":v&&"dashed"===r}),style:{"--color-bg":c,"--color-border":c}}),(0,l.jsxs)("div",{className:(0,g.cn)("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[(0,l.jsxs)("div",{className:"grid gap-1.5",children:[v?b:null,(0,l.jsx)("span",{className:"text-neutral-500 dark:text-neutral-400",children:(null==s?void 0:s.label)||e.name})]}),e.value&&(0,l.jsx)("span",{className:"font-mono font-medium tabular-nums text-neutral-950 dark:text-neutral-50",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});I.displayName="ChartTooltip";let S=b.s,R=h.forwardRef((e,t)=>{let{className:a,hideIcon:s=!1,payload:c,verticalAlign:r="bottom",nameKey:n}=e,{config:i}=y();return(null==c?void 0:c.length)?(0,l.jsx)("div",{ref:t,className:(0,g.cn)("flex items-center justify-center gap-4","top"===r?"pb-3":"pt-3",a),children:c.map(e=>{let t="".concat(n||e.dataKey||"value"),a=E(i,e,t);return(0,l.jsxs)("div",{className:(0,g.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-neutral-500 dark:[&>svg]:text-neutral-400"),children:[(null==a?void 0:a.icon)&&!s?(0,l.jsx)(a.icon,{}):(0,l.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==a?void 0:a.label]},e.value)})}):null});function E(e,t,a){if("object"!=typeof t||null===t)return;let l="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,s=a;return a in t&&"string"==typeof t[a]?s=t[a]:l&&a in l&&"string"==typeof l[a]&&(s=l[a]),s in e?e[s]:e[a]}R.displayName="ChartLegend";var A=a(75828);let D=(0,A.createServerReference)("40f8c2640ac63a127b5cb508fb0ade93b3bb60b796",A.callServer,void 0,A.findSourceMapURL,"getInchargeStats");var B=a(14505);function _(e){let{inchargeEmail:t}=e,[a,s]=(0,h.useState)([]),[p,j]=(0,h.useState)(!0),[b,g]=(0,h.useState)(null);(0,h.useEffect)(()=>{!async function(){try{let e=await D(t);console.log("result",e),console.log("inchargeEmail",t),e.errors?g(e.errors):(s(e.data),console.log(e.data))}catch(e){g("Failed to fetch statistics")}finally{j(!1)}}()},[]);let v=[{status:"Called Declined",value:a.reduce((e,t)=>e+(parseInt(t["Called Declined"])||0),0),color:"#ef4444"},{status:"Emailed Declined",value:a.reduce((e,t)=>e+(parseInt(t["Emailed Declined"])||0),0),color:"#ef4444"},{status:"Blacklisted",value:a.reduce((e,t)=>e+(parseInt(t.Blacklisted)||0),0),color:"#1f2937"},{status:"Accepted Invite",value:a.reduce((e,t)=>e+(parseInt(t["Accepted Invite"])||0),0),color:"#22c55e"},{status:"Awaiting Response",value:a.reduce((e,t)=>e+(parseInt(t["Awaiting Response"])||0),0),color:"#fbbf24"},{status:"Email Sent",value:a.reduce((e,t)=>e+(parseInt(t["Email Sent"])||0),0),color:"#3b82f6"},{status:"Called Postponed",value:a.reduce((e,t)=>e+(parseInt(t["Called Postponed"])||0),0),color:"#14b8a6"},{status:"Wrong Number",value:a.reduce((e,t)=>e+(parseInt(t["Wrong Number"])||0),0),color:"#ec4899"},{status:"Not Reachable",value:a.reduce((e,t)=>e+(parseInt(t["Not Reachable"])||0),0),color:"#9333ea"},{status:"Not Called",value:a.reduce((e,t)=>e+(parseInt(t["Not Called"])||0),0),color:"#f97316"}],N=v.reduce((e,t)=>e+(parseInt(t.value)||0),0);return p?(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)(B.A,{className:"h-8 w-8 animate-spin text-blue-600"})}):b?(0,l.jsx)("div",{className:"text-center py-8 text-red-500",children:b}):0===a.length?(0,l.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No statistics available."}):(0,l.jsx)("div",{className:"container mx-auto p-6 space-y-8",children:(0,l.jsx)("div",{className:"flex justify-center items-center",children:(0,l.jsxs)("div",{className:"grid gap-8 md:grid-cols-1 lg:grid-cols-2",children:[(0,l.jsxs)(f.Zp,{className:"md:col-span-1 lg:col-span-2 max-w-[900px] mx-auto w-full pb-3",children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Contacts per Member"}),(0,l.jsx)(f.BT,{children:"Number of contacts managed by each Member"})]}),(0,l.jsx)(f.Wu,{className:"flex justify-center",children:(0,l.jsx)(w,{config:{"Called Declined":{label:"Called Declined",color:"#ef4444"},"Emailed Declined":{label:"Emailed Declined",color:"#ef4444"},Blacklisted:{label:"Blacklisted",color:"#1f2937"},"Accepted Invite":{label:"Accepted Invite",color:"#22c55e"},"Awaiting Response":{label:"Awaiting Response",color:"#fbbf24"},"Email Sent":{label:"Email Sent",color:"#3b82f6"},"Called Postponed":{label:"Called Postponed",color:"#14b8a6"},"Wrong Number":{label:"Wrong Number",color:"#ec4899"},"Not Reachable":{label:"Not Reachable",color:"#9333ea"},"Not Called":{label:"Not Called",color:"#f97316"}},className:"h-[300px] sm:h-[400px] min-w-[600px]",children:(0,l.jsxs)(c.E,{data:a,margin:{top:20,right:30,bottom:40,left:10},children:[(0,l.jsx)(r.d,{vertical:!1}),(0,l.jsx)(n.W,{dataKey:"name",tickLine:!1,axisLine:!1,tickMargin:10,angle:-45,textAnchor:"end"}),(0,l.jsx)(i.h,{tickLine:!1,axisLine:!1,tickMargin:10}),(0,l.jsx)(C,{content:(0,l.jsx)(I,{})}),v.map((e,t)=>(0,l.jsx)(d.y,{dataKey:e.status,stackId:"a",fill:e.color,radius:0===t?[0,0,4,4]:t===v.length-1?[4,4,0,0]:0},e.status))]})})})]}),(0,l.jsxs)(f.Zp,{className:"max-w-[400px] mx-auto w-full",children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Contact Status Distribution"}),(0,l.jsxs)(f.BT,{children:["Total Contacts: ",N]})]}),(0,l.jsxs)(f.Wu,{className:"flex flex-col items-center",children:[(0,l.jsx)(w,{config:{},className:"h-[300px] w-full flex justify-center",children:(0,l.jsxs)(o.r,{width:300,height:300,children:[(0,l.jsxs)(x.F,{data:v,dataKey:"value",nameKey:"status",cx:"50%",cy:"50%",innerRadius:60,strokeWidth:5,children:[v.map((e,t)=>(0,l.jsx)(u.f,{fill:e.color},"cell-".concat(t))),(0,l.jsx)(m.J,{content:e=>{let{viewBox:t}=e;if(t&&"cx"in t&&"cy"in t)return(0,l.jsxs)("text",{x:t.cx,y:t.cy,textAnchor:"middle",dominantBaseline:"middle",children:[(0,l.jsx)("tspan",{x:t.cx,y:t.cy,className:"fill-foreground text-3xl font-bold",children:N}),(0,l.jsx)("tspan",{x:t.cx,y:(t.cy||0)+24,className:"fill-muted-foreground",children:"Contacts"})]})}})]}),(0,l.jsx)(C,{content:(0,l.jsx)(I,{hideLabel:!0})})]})}),(0,l.jsx)("div",{className:"mt-4 grid grid-cols-2 gap-4",children:v.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:e.color}}),(0,l.jsxs)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[e.status," (",e.value,")"]})]},t))})]})]}),(0,l.jsxs)(f.Zp,{className:"max-w-[400px] mx-auto w-full",children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Contact Distribution by Member"}),(0,l.jsx)(f.BT,{children:"How contacts are distributed across members"})]}),(0,l.jsxs)(f.Wu,{className:"flex flex-col items-center",children:[(0,l.jsx)(w,{config:{},className:"h-[300px] w-full flex justify-center",children:(0,l.jsxs)(o.r,{width:300,height:300,children:[(0,l.jsxs)(x.F,{data:a.map((e,t)=>({name:e.name,value:parseInt(e.contacts)||0,color:["#3b82f6","#22c55e","#f97316","#8b5cf6","#ec4899","#14b8a6","#f59e0b","#6366f1","#ef4444","#84cc16","#06b6d4","#d946ef","#0ea5e9","#64748b","#a855f7","#f43f5e","#0891b2","#059669","#7c3aed","#ea580c"][t%20]})),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:60,strokeWidth:5,children:[a.map((e,t)=>(0,l.jsx)(u.f,{fill:["#3b82f6","#22c55e","#f97316","#8b5cf6","#ec4899","#14b8a6","#f59e0b","#6366f1","#ef4444","#84cc16","#06b6d4","#d946ef","#0ea5e9","#64748b","#a855f7","#f43f5e","#0891b2","#059669","#7c3aed","#ea580c"][t%20]},"cell-".concat(t))),(0,l.jsx)(m.J,{content:e=>{let{viewBox:t}=e;if(a.reduce((e,t)=>e+(parseInt(t.contacts)||0),0),t&&"cx"in t&&"cy"in t)return(0,l.jsxs)("text",{x:t.cx,y:t.cy,textAnchor:"middle",dominantBaseline:"middle",children:[(0,l.jsx)("tspan",{x:t.cx,y:t.cy,className:"fill-foreground text-3xl font-bold",children:N}),(0,l.jsx)("tspan",{x:t.cx,y:(t.cy||0)+24,className:"fill-muted-foreground",children:"Contacts"})]})}})]}),(0,l.jsx)(C,{content:(0,l.jsx)(I,{hideLabel:!0})})]})}),(0,l.jsx)("div",{className:"mt-4 grid grid-cols-2 gap-4",children:a.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:["#3b82f6","#22c55e","#f97316","#8b5cf6","#ec4899","#14b8a6","#f59e0b","#6366f1","#ef4444","#84cc16","#06b6d4","#d946ef","#0ea5e9","#64748b","#a855f7","#f43f5e","#0891b2","#059669","#7c3aed","#ea580c"][t%20]}}),(0,l.jsxs)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[e.name," (",e.contacts,")"]})]},t))})]})]})]})})})}var W=a(47370);let K=(0,A.createServerReference)("003787c780d0b1412f89dc8cba2557dd4fc9d51b3a",A.callServer,void 0,A.findSourceMapURL,"getAdminStats");function L(){let[e,t]=(0,h.useState)([]),[a,s]=(0,h.useState)(!0),[p,j]=(0,h.useState)(null);(0,h.useEffect)(()=>{!async function(){try{let e=await K();e.errors?j(e.errors):t(e.data)}catch(e){j("Failed to fetch statistics")}finally{s(!1)}}()},[]);let b=[{status:"Called Declined",value:e.reduce((e,t)=>e+(parseInt(t["Called Declined"])||0),0),color:"#ef4444"},{status:"Emailed Declined",value:e.reduce((e,t)=>e+(parseInt(t["Emailed Declined"])||0),0),color:"#ef4444"},{status:"Blacklisted",value:e.reduce((e,t)=>e+(parseInt(t.Blacklisted)||0),0),color:"#1f2937"},{status:"Accepted Invite",value:e.reduce((e,t)=>e+(parseInt(t.Accepted)||0),0),color:"#22c55e"},{status:"Awaiting Response",value:e.reduce((e,t)=>e+(parseInt(t["Awaiting Response"])||0),0),color:"#fbbf24"},{status:"Email Sent",value:e.reduce((e,t)=>e+(parseInt(t["Email Sent"])||0),0),color:"#3b82f6"},{status:"Called Postponed",value:e.reduce((e,t)=>e+(parseInt(t["Called Postponed"])||0),0),color:"#14b8a6"},{status:"Wrong Number",value:e.reduce((e,t)=>e+(parseInt(t["Wrong Number"])||0),0),color:"#ec4899"},{status:"Not Reachable",value:e.reduce((e,t)=>e+(parseInt(t["Not Reachable"])||0),0),color:"#9333ea"},{status:"Not Called",value:e.reduce((e,t)=>e+(parseInt(t["Not Called"])||0),0),color:"#f97316"}],g=b.reduce((e,t)=>e+(parseInt(t.value)||0),0);return a?(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)(B.A,{className:"h-8 w-8 animate-spin text-blue-600"})}):p?(0,l.jsx)("div",{className:"text-center py-8 text-red-500",children:p}):0===e.length?(0,l.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No statistics available."}):(0,l.jsx)("div",{className:"container mx-auto p-2 sm:p-6 space-y-4 sm:space-y-8",children:(0,l.jsx)("div",{className:"flex justify-center items-center",children:(0,l.jsxs)("div",{className:"grid gap-4 sm:gap-8 w-full max-w-[1400px]",children:[(0,l.jsxs)(f.Zp,{className:"w-full",children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{className:"text-lg sm:text-xl",children:"Contacts per ED"}),(0,l.jsx)(f.BT,{className:"text-sm",children:"Number of contacts managed by each ED"})]}),(0,l.jsx)(f.Wu,{className:"flex justify-center overflow-x-auto pb-6",children:(0,l.jsx)(w,{config:{"Called Declined":{label:"Called Declined",color:"#ef4444"},"Emailed Declined":{label:"Emailed Declined",color:"#ef4444"},Blacklisted:{label:"Blacklisted",color:"#1f2937"},"Accepted Invite":{label:"Accepted Invite",color:"#22c55e"},"Awaiting Response":{label:"Awaiting Response",color:"#fbbf24"},"Email Sent":{label:"Email Sent",color:"#3b82f6"},"Called Postponed":{label:"Called Postponed",color:"#14b8a6"},"Wrong Number":{label:"Wrong Number",color:"#ec4899"},"Not Reachable":{label:"Not Reachable",color:"#9333ea"},"Not Called":{label:"Not Called",color:"#f97316"}},className:"h-[300px] sm:h-[400px] w-full min-w-[600px] max-w-[1200px]",children:(0,l.jsxs)(c.E,{data:e,margin:{top:20,right:40,bottom:20,left:40},children:[(0,l.jsx)(r.d,{vertical:!1}),(0,l.jsx)(n.W,{dataKey:"name",tickLine:!1,axisLine:!1,tickMargin:10,angle:0,textAnchor:"middle"}),(0,l.jsx)(i.h,{tickLine:!1,axisLine:!1,tickMargin:10}),(0,l.jsx)(C,{content:(0,l.jsx)(I,{})}),(0,l.jsx)(S,{content:(0,l.jsx)(R,{})}),b.map((e,t)=>(0,l.jsx)(d.y,{dataKey:e.status,stackId:"a",fill:e.color,radius:0===t?[0,0,4,4]:t===b.length-1?[4,4,0,0]:0},e.status))]})})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-8",children:[(0,l.jsxs)(f.Zp,{className:"w-full",children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{className:"text-lg sm:text-xl",children:"Contact Status Distribution"}),(0,l.jsxs)(f.BT,{children:["Total Contacts: ",g]})]}),(0,l.jsxs)(f.Wu,{className:"flex flex-col items-center pt-4",children:[(0,l.jsx)(w,{config:{},className:"h-[300px] w-full max-w-[400px]",children:(0,l.jsxs)(o.r,{width:300,height:300,children:[(0,l.jsxs)(x.F,{data:b,dataKey:"value",nameKey:"status",cx:"50%",cy:"50%",innerRadius:60,strokeWidth:5,children:[b.map((e,t)=>(0,l.jsx)(u.f,{fill:e.color},"cell-".concat(t))),(0,l.jsx)(m.J,{content:e=>{let{viewBox:t}=e;if(t&&"cx"in t&&"cy"in t)return(0,l.jsxs)("text",{x:t.cx,y:t.cy,textAnchor:"middle",dominantBaseline:"middle",children:[(0,l.jsx)("tspan",{x:t.cx,y:t.cy,className:"fill-foreground text-3xl font-bold",children:g}),(0,l.jsx)("tspan",{x:t.cx,y:(t.cy||0)+24,className:"fill-muted-foreground",children:"Contacts"})]})}})]}),(0,l.jsx)(C,{content:(0,l.jsx)(I,{hideLabel:!0})})]})}),(0,l.jsx)("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full max-w-[500px]",children:b.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"h-3 w-3 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,l.jsxs)("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[e.status," (",e.value,")"]})]},t))})]})]}),(0,l.jsxs)(f.Zp,{className:"w-full",children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{className:"text-lg sm:text-xl",children:"Incharge Distribution"}),(0,l.jsx)(f.BT,{children:"Distribution of contacts among incharges"})]}),(0,l.jsxs)(f.Wu,{className:"flex flex-col items-center pt-4",children:[(0,l.jsx)(w,{config:{},className:"h-[300px] w-full max-w-[400px]",children:(0,l.jsxs)(o.r,{width:300,height:300,children:[(()=>{let t=e.map((e,t)=>({name:e.name,value:Object.entries(e).filter(e=>{let[t]=e;return"name"!==t}).reduce((e,t)=>{let[a,l]=t;return e+(parseInt(l)||0)},0)/2,color:["#3b82f6","#22c55e","#f97316","#8b5cf6","#ec4899","#14b8a6","#f59e0b","#6366f1"][t%8]}));return(0,l.jsxs)(x.F,{data:t,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:60,strokeWidth:5,children:[t.map((e,t)=>(0,l.jsx)(u.f,{fill:e.color},"cell-".concat(t))),(0,l.jsx)(m.J,{content:e=>{let{viewBox:t}=e;if(t&&"cx"in t&&"cy"in t)return(0,l.jsxs)("text",{x:t.cx,y:t.cy,textAnchor:"middle",dominantBaseline:"middle",children:[(0,l.jsx)("tspan",{x:t.cx,y:t.cy,className:"fill-foreground text-3xl font-bold",children:g}),(0,l.jsx)("tspan",{x:t.cx,y:(t.cy||0)+24,className:"fill-muted-foreground",children:"Contacts"})]})}})]})})(),(0,l.jsx)(C,{content:(0,l.jsx)(I,{hideLabel:!0})})]})}),(0,l.jsx)("div",{className:"mt-6 grid grid-cols-2 sm:grid-cols-3 gap-4 w-full max-w-[400px]",children:e.map((e,t)=>{let a=Object.entries(e).filter(e=>{let[t]=e;return"name"!==t}).reduce((e,t)=>{let[a,l]=t;return e+(parseInt(l)||0)},0)/2;return(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"h-3 w-3 rounded-full flex-shrink-0",style:{backgroundColor:["#3b82f6","#22c55e","#f97316","#8b5cf6","#ec4899","#14b8a6","#f59e0b","#6366f1"][t%8]}}),(0,l.jsxs)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 truncate",children:[e.name," (",a,")"]})]},t)})})]})]})]})]})})})}let M=(0,A.createServerReference)("00bd3eb085bda435b34db54060c68616ecf82cb70f",A.callServer,void 0,A.findSourceMapURL,"getMemberStats");function Z(){let[e,t]=(0,h.useState)(null),[a,s]=(0,h.useState)(!0),[c,r]=(0,h.useState)(null);if((0,h.useEffect)(()=>{(async function(){try{let e=await M();e.errors?r(e.errors):t(e.data)}catch(e){r("Failed to fetch statistics")}finally{s(!1)}})()},[]),a)return(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)(B.A,{className:"h-8 w-8 animate-spin text-blue-600"})});if(c)return(0,l.jsx)("div",{className:"text-center py-8 text-red-500",children:c});if(!e)return(0,l.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No statistics available."});let n=[{status:"Emailed Declined",value:parseInt(e["Emailed Declined"]||0),color:"#ef4444"},{status:"Called Declined",value:parseInt(e["Called Declined"]||0),color:"#ef4444"},{status:"Blacklisted",value:parseInt(e.Blacklisted||0),color:"#1f2937"},{status:"Accepted Invite",value:parseInt(e["Accepted Invite"]||0),color:"#22c55e"},{status:"Awaiting Response",value:parseInt(e["Awaiting Response"]||0),color:"#fbbf24"},{status:"Email Sent",value:parseInt(e["Email Sent"]||0),color:"#3b82f6"},{status:"Called Postponed",value:parseInt(e["Called Postponed"]||0),color:"#14b8a6"},{status:"Wrong Number",value:parseInt(e["Wrong Number"]||0),color:"#ec4899"},{status:"Not Reachable",value:parseInt(e["Not Reachable"]||0),color:"#9333ea"},{status:"Not Called",value:parseInt(e["Not Called"]||0),color:"#f97316"}],i=parseInt(e.total_contacts||0);return(0,l.jsx)("div",{className:"container mx-auto p-6",children:(0,l.jsxs)(f.Zp,{className:"max-w-[400px] mx-auto w-full",children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Your Contact Status Distribution"}),(0,l.jsxs)(f.BT,{children:["Total Contacts: ",i]})]}),(0,l.jsxs)(f.Wu,{className:"flex flex-col items-center",children:[(0,l.jsx)(w,{config:{},className:"h-[300px] w-full flex justify-center",children:(0,l.jsxs)(o.r,{width:300,height:300,children:[(0,l.jsxs)(x.F,{data:n,dataKey:"value",nameKey:"status",cx:"50%",cy:"50%",innerRadius:60,strokeWidth:5,children:[n.map((e,t)=>(0,l.jsx)(u.f,{fill:e.color},"cell-".concat(t))),(0,l.jsx)(m.J,{content:e=>{let{viewBox:t}=e;if(t&&"cx"in t&&"cy"in t)return(0,l.jsxs)("text",{x:t.cx,y:t.cy,textAnchor:"middle",dominantBaseline:"middle",children:[(0,l.jsx)("tspan",{x:t.cx,y:t.cy,className:"fill-foreground text-3xl font-bold",children:i}),(0,l.jsx)("tspan",{x:t.cx,y:(t.cy||0)+24,className:"fill-muted-foreground",children:"Contacts"})]})}})]}),(0,l.jsx)(C,{content:(0,l.jsx)(I,{hideLabel:!0})})]})}),(0,l.jsx)("div",{className:"mt-4 grid grid-cols-2 gap-4",children:n.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:e.color}}),(0,l.jsxs)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[e.status," (",e.value,")"]})]},t))})]})]})})}var P=a(98930);let T=function(){let[e,t]=(0,h.useState)("incharge"),[a,c]=(0,h.useState)(""),[r,n]=(0,h.useState)(!1);return(0,h.useEffect)(()=>{t(localStorage.getItem("role")||"incharge")},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.default,{}),(0,l.jsxs)("div",{className:"container mx-auto px-2 sm:px-4 pt-4 sm:pt-8 mt-16",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4 sm:mb-8",children:[(0,l.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-blue-800",children:["admin"===e?"Admin":"volunteer"===e?"Member":"Incharge"," ","Statistics"]}),"admin"===e&&(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[(0,l.jsxs)(W.$,{onClick:()=>n(!r),className:"bg-blue-800 hover:bg-blue-900",children:["Show ",r?"Admin":"ED"," Stats"]}),r&&(0,l.jsxs)(P.l6,{value:a,onValueChange:e=>{c(e)},children:[(0,l.jsx)(P.bq,{className:"w-full sm:w-[200px] bg-white text-black",children:(0,l.jsx)(P.yv,{placeholder:"Select ED"})}),(0,l.jsx)(P.gC,{children:[{name:"Arunima",email:"arunima@forese.co.in"},{name:"Jhalak",email:"jhalak@forese.co.in"},{name:"Karthik",email:"karthik@forese.co.in"},{name:"Sandhya",email:"sandhya@forese.co.in"},{name:"Sanjana",email:"sanjana@forese.co.in"}].map(e=>(0,l.jsx)(P.eb,{value:e.email,children:e.name},e.email))})]})]})]}),"admin"===e?r?a?(0,l.jsx)(_,{inchargeEmail:a},a):(0,l.jsx)("p",{className:"mt-20 sm:mt-40 text-center text-base sm:text-lg text-red-500",children:"Please select an ED"}):(0,l.jsx)(L,{}):null,"incharge"===e&&(0,l.jsx)(_,{}),"volunteer"===e&&(0,l.jsx)(Z,{})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[105,539,430,814,32,825,60,441,517,358],()=>t(94513)),_N_E=e.O()}]);